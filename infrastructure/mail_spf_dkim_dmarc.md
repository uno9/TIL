# メールのなりすまし防止
作成日：2022/03/30

## メールのなりすまし
- メールは、**To**の内容を簡単に変更することができる
  - → どこからメールが来たのかを偽装できる
- なりすましを防止するには？
  - メールに電子署名を設定する
  - メール送信サーバの情報を事前に登録し、メール受信時にメールの送信先をチェック
- 対策する技術
  - SPF
  - DKIM
  - DMARC

## SPF
- 送信元メールサーバのIPアドレスをもとに、なりすましか判断するもの
- 仕組み
  - メールが送信されたら、メールを受信したサーバがDNSレコードへ送信メールサーバのIPアドレスを問い合わせ、返答結果とメールの送信先をチェックする

## DKIM
- 送信メールに付与された電子署名を照合してなりすましを判断するもの
- 仕組み
  - メールを送信するときに、メールサーバーがメールに電子署名を施し、受信サーバはDNSに対して検証することでメールをチェックする

## DMARC
- SPFとDKIMの認証が失敗したメールに対して、どんな処理をするのか指定しておくもの（DMARCポリシー）
- 仕組み

# 参考記事
- https://ent.iij.ad.jp/articles/172/
